var open=document.querySelector(".btn-message"),popup=document.querySelector(".modal-message"),close=popup.querySelector(".modal-close"),form=popup.querySelector("form"),userName=popup.querySelector("[name=user-name]"),userEmail=popup.querySelector("[name=user-email]"),userMessage=popup.querySelector("[name=user-message]"),storageUserName=localStorage.getItem("userName"),storageUserEmail=localStorage.getItem("userEmail");open.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),storageUserName&&storageUserEmail?(userName.value=storageUserName,userEmail.value=storageUserEmail,userMessage.focus()):storageUserName?(userName.value=storageUserName,userEmail.focus()):userName.focus()}),form.addEventListener("submit",function(e){userName.value?localStorage.setItem("userName",userName.value):(e.preventDefault(),userName.classList.add("invalid-item"))}),form.addEventListener("submit",function(e){userEmail.value?localStorage.setItem("userEmail",userEmail.value):(e.preventDefault(),userEmail.classList.add("invalid-item"))}),form.addEventListener("submit",function(e){userMessage.value||(e.preventDefault(),userMessage.classList.add("invalid-item"))}),form.addEventListener("submit",function(e){userName.value&&userEmail.value&&userMessage.value||(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),userName.classList.remove("invalid-item"),userEmail.classList.remove("invalid-item"),popup.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),userName.classList.remove("invalid-item"),userEmail.classList.remove("invalid-item"),userMessage.classList.remove("invalid-item"))});var openMap=document.querySelector(".open-map"),popupMap=document.querySelector(".modal-map"),closeMap=popupMap.querySelector(".modal-close");openMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("modal-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupMap.classList.contains("modal-show")&&popupMap.classList.remove("modal-show")});